----------------------------------------------------
DESIGN
----------------------------------------------------
network arch
- aloha?
- consumo por nodo
- num ligações por gateway (packets per node)
- range do sinal
- segurança?

definir tempo que a lampada fica ligada após uma deteção
connection error -> light turn on automatically??=?=

----------------------------------------------------
HW
----------------------------------------------------
corrente dos sensores? é necessário o step down?
quanta corrente o micro pode fornecer?

---------------------------------------------------
IMAGE PROCESSING
---------------------------------------------------
Canny edge detection:
	- Multi-stage algorithm

	Stages:
		- Convert to grey image: Igray = 0.213(Ired )+0.715(Igreen)+0.072(Iblue);
		- Noise reduction: Process Gaussian blur filter 5x5;
		- Apply Hough Line Transform to detect lines in the image
		- Isolate the horizontal lines
		- Isolate the 
		- Determine the coordinates
		- Detect parking spots with empty
		- Register coordinates of parking spots
		- ....


---------------------------------------------------
Local system
---------------------------------------------------
Controlo da lampada
Comunicação(LoRa)
	- receber
	- enviar
Leitura dos sensores
	- PIR
	- LDR
	- lampFailure detector

---------------------------------------------------
Gateway
---------------------------------------------------
Comunicação(LoRa): pode depender na receção TCP
	- receber
	- enviar

Comunicação(TCP-client): pode depender na receção Lora
	- receber 
	- enviar

---------------------------------------------------
Remote Server
---------------------------------------------------
Comunicação(TCP-server)
	- receber 
	- interpretar (parse)
	- enviar

Database Manager (Daemon)
	- queries??

---------------------------------------------------
Remote Client
---------------------------------------------------



--------------------------------
Classes
--------------------------------
Camera
	+ Camera
	+ open
	+ close
	+ isOpen
	+ tCamera
	- captureFrame
	- processFrame
	- search_parking_spot (get info about park coords) - filtering, ...
	- detect_objects (xml - haar cascade pre-trained)
	
	- VideoCapture m_camera;
	- image
	- park[PARK_NUM]

Communications
	+ tsend_message()
	+ treceive_message()

	- message

Lamp
	+ tLampControl
	+ setBrightness

PIR
	+ open
	+ close
	+ PirI

LDR
	+ open
	+ close
	+ LdrI

	- lightCon

LampFailureDetector
